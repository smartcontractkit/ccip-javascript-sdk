import { Address, Hash, Hex, TransactionReceipt } from 'viem'
import { privateKeyToAccount } from 'viem/accounts'
import dotenv from 'dotenv'

import bridgeJson from '../../artifacts-compile/BridgeToken.json'
import onRampJson from '../../artifacts-compile/EVM2EVMOnRamp.json'
import routerJson from '../../artifacts-compile/Router.json'
import simulatorJson from '../../artifacts-compile/CCIPLocalSimulator.json'
import feeQuoterJson from '../../artifacts-compile/FeeQuoter.json'

// load.env file for private key
// replace with your own private key (optional)
dotenv.config()

if (process.env.PRIVATE_KEY?.slice(0, 2) !== '0x') {
  process.env.PRIVATE_KEY = `0x${process.env.PRIVATE_KEY}`
}

export const DEFAULT_ANVIL_PRIVATE_KEY =
  '0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80' as Hex
export const account = privateKeyToAccount(DEFAULT_ANVIL_PRIVATE_KEY)

// bridge token contract
export const { bridgeTokenAbi, bridgeTokenBin } = bridgeJson['contracts']['src/contracts/BridgeToken.sol:BridgeToken']
// note: no need to deploy
export const { onRampAbi, onRampBin } = onRampJson['contracts']['src/contracts/EVM2EVMOnRamp.sol:EVM2EVMOnRamp']
export const { routerAbi, routerBin } = routerJson['contracts']['src/contracts/Router.sol:Router']
export const { simulatorAbi, simulatorBin } =
  simulatorJson['contracts']['src/contracts/CCIPLocalSimulator.sol:CCIPLocalSimulator']
export const { feeQuoterAbi, feeQuoterBin } = feeQuoterJson['contracts']['src/contracts/FeeQuoter.sol:FeeQuoter']

// CCIP testing data for simulations
export const ccipTxHash = '0xc55d92b1212dd24db843e1cbbcaebb1fffe3cd1751313e0fd02cf26bf72b359e'

export const ccipLog = [
  {
    address: '0x0aec1ac9f6d0c21332d7a66ddf1fbcb32cf3b0b3' as Address,
    blockHash: '0xd8a5943213a52e0e453c0c7ffe921f3c4c84b15ee02915e59ada0d058f33ab2a' as Hash,
    args: {
      message: {
        data: '0x0000000000000000000000000000000000000000000000000000000000000000',
        feeToken: '0x0b9d5D9136855f6FEc3c0993feE6E9CE8a297846',
        feeTokenAmount: 317861394337043364n,
        gasLimit: 0n,
        messageId: '0xde438245515b78c2294263a821316b5d5b49af90464dafcedaf13901050bf062',
        nonce: 7n,
        receiver: '0x748Cab9A6993A24CA6208160130b3f7b79098c6d',
        sender: '0x748Cab9A6993A24CA6208160130b3f7b79098c6d',
        sequenceNumber: 1265n,
        sourceChainSelector: 14767482510784806043n,
      },
    },
    blockNumber: 36381795n,
    data: '0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000ccf0a31a221f3c9b000000000000000000000000748cab9a6993a24ca6208160130b3f7b79098c6d000000000000000000000000748cab9a6993a24ca6208160130b3f7b79098c6d00000000000000000000000000000000000000000000000000000000000004f10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000070000000000000000000000000b9d5d9136855f6fec3c0993fee6e9ce8a29784600000000000000000000000000000000000000000000000004694541094513a400000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000001e00000000000000000000000000000000000000000000000000000000000000240de438245515b78c2294263a821316b5d5b49af90464dafcedaf13901050bf06200000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000070f5c5c40b873ea597776da2c21929a8282a3b35000000000000000000000000000000000000000000000000000000003b9aca000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000015f9000000000000000000000000000000000000000000000000000000000000000200000000000000000000000008e35eb0dfb39ec5f84254c3f863986a913171e0b0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000a98fa8a008371b9408195e52734b1768c0d1cb5c0000000000000000000000000000000000000000000000000000000000000000',
    eventName: 'CCIPMessageSent',
    logIndex: 8,
    removed: false,
    topics: ['0xd0c3c799bf9e2639de44391e7f524d229b2b55f5b1ea94b2bf7da42f7243dddd' as Address],
    transactionHash: '0xb96c7d676f69e904fe283312386f375352e407446b7b0c4b8452d09a13cc6b10',
    transactionIndex: 0,
  },
]

export const ccipLogWOMessageId = [
  {
    address: '0x0aec1ac9f6d0c21332d7a66ddf1fbcb32cf3b0b3' as Address,
    blockHash: '0xd8a5943213a52e0e453c0c7ffe921f3c4c84b15ee02915e59ada0d058f33ab2a' as Hash,
    args: {},
    blockNumber: 36381795n,
    data: '0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000ccf0a31a221f3c9b000000000000000000000000748cab9a6993a24ca6208160130b3f7b79098c6d000000000000000000000000748cab9a6993a24ca6208160130b3f7b79098c6d00000000000000000000000000000000000000000000000000000000000004f10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000070000000000000000000000000b9d5d9136855f6fec3c0993fee6e9ce8a29784600000000000000000000000000000000000000000000000004694541094513a400000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000001e00000000000000000000000000000000000000000000000000000000000000240de438245515b78c2294263a821316b5d5b49af90464dafcedaf13901050bf06200000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000070f5c5c40b873ea597776da2c21929a8282a3b35000000000000000000000000000000000000000000000000000000003b9aca000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000015f9000000000000000000000000000000000000000000000000000000000000000200000000000000000000000008e35eb0dfb39ec5f84254c3f863986a913171e0b0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000a98fa8a008371b9408195e52734b1768c0d1cb5c0000000000000000000000000000000000000000000000000000000000000000',
    eventName: 'CCIPMessageSent',
    logIndex: 8,
    removed: false,
    topics: ['0xd0c3c799bf9e2639de44391e7f524d229b2b55f5b1ea94b2bf7da42f7243dddd' as Address],
    transactionHash: '0xb96c7d676f69e904fe283312386f375352e407446b7b0c4b8452d09a13cc6b10',
    transactionIndex: 0,
  },
]

export const ccipTxReceipt: TransactionReceipt = {
  blockHash: '0x565f99df4e32e15432f44c19b3d1d15447c41ca185a09aaf8d53356ce4086d8b',
  blockNumber: 36381676n,
  contractAddress: null,
  cumulativeGasUsed: 288318n,
  effectiveGasPrice: 25000000001n,
  from: '0x748cab9a6993a24ca6208160130b3f7b79098c6d',
  gasUsed: 288318n,
  logs: [
    {
      address: '0x0b9d5d9136855f6fec3c0993fee6e9ce8a297846',
      blockHash: '0x565f99df4e32e15432f44c19b3d1d15447c41ca185a09aaf8d53356ce4086d8b',
      blockNumber: 36381676n,
      data: '0x0000000000000000000000000000000000000000000000000070c7afd6bb1899',
      logIndex: 0,
      removed: false,
      topics: [
        '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',
        '0x000000000000000000000000748cab9a6993a24ca6208160130b3f7b79098c6d',
        '0x000000000000000000000000a9946ba30daec98745755e4410d6e8e894edc53b',
      ],
      transactionHash: ccipTxHash,
      transactionIndex: 0,
    },
    {
      address: '0x70f5c5c40b873ea597776da2c21929a8282a3b35',
      blockHash: '0x565f99df4e32e15432f44c19b3d1d15447c41ca185a09aaf8d53356ce4086d8b',
      blockNumber: 36381676n,
      data: '0x0000000000000000000000000000000000000000000000000000000000000000',
      logIndex: 1,
      removed: false,
      topics: [
        '0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925',
        '0x000000000000000000000000748cab9a6993a24ca6208160130b3f7b79098c6d',
        '0x000000000000000000000000f694e193200268f9a4868e4aa017a0118c9a8177',
      ],
      transactionHash: ccipTxHash,
      transactionIndex: 0,
    },
  ],
  logsBloom:
    '0x01000000000000000001000000000004000000000000800000000000000000000000000008000000002000000000000000000000000000000000080000200000000000020000020000000008000000000100100000000000000010000000000000000000060000000000004000000802040000000000000000001050000000000002000000000000200000000000000400000000000080000800040000000000020000000000200600000000000000000080000000000000008100000000008100000002000000000001000000000000000000000000000800000000000024000010000000000000000000000000000004000200000000000000000000000000',
  status: 'success',
  to: '0xf694e193200268f9a4868e4aa017a0118c9a8177',
  transactionHash: ccipTxHash,
  transactionIndex: 0,
  type: 'eip1559',
}
